<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd"
        logicalFilePath="conf/changelog0001.xml">

    <property name="nowdate" value="now()" dbms="postgresql"/>
    <property name="nowdate" value="getdate()" dbms="mssql"/>
    <property name="nowdate" value="now()" dbms="mysql"/>
    <property name="nowdate" value="CURRENT TIMESTAMP" dbms="db2"/>
    <property name="nowdate" value="sysdate" dbms="oracle"/>
    <property name="nowdate" value="CURRENT_TIMESTAMP()" dbms="h2"/>
    <property name="uuid" value="replace(concat('test02_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')" dbms="postgresql"/>

    <changeSet id="0001 - common tables for time tracking" author="slawomir.bankowski">

        <createSequence cycle="false" incrementBy="1"  sequenceName="seq_id" />

        <sql splitStatements="false" stripComments="false">
            CREATE EXTENSION IF NOT EXISTS "uuid-ossp";
        </sql>

        <createTable tableName="system_version" remarks="version of application" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_version_uid" type="text" remarks="main key of semantic version of application like 1.0.0 or 1.2.3"><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="version_description" type="text" remarks="description of this version of application"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('event_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row: 0, 1, 2, 3; each update is increasing this number"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of removing this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}" remarks="JSON with custom attributes for this object"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_version_system_version_uid" tableName="system_version" unique="true"><column name="system_version_uid" /></createIndex>

        <createTable tableName="system_database" remarks="database with data for clients" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <!-- FKs -->
            <column name="system_database_uid" type="text" remarks="client database UID"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="db_url" type="text" remarks="URL"><constraints nullable="false"/></column>
            <column name="db_host" type="text" remarks="host of tenant database"><constraints nullable="false"/></column>
            <column name="db_name" type="text" remarks="name of tenant database"><constraints nullable="false"/></column>
            <column name="db_user" type="text" remarks="user of tenant database"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('event_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row: 0, 1, 2, 3; each update is increasing this number"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of removing this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}" remarks="JSON with custom attributes for this object"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_database_system_database_uid" tableName="system_database" unique="true"><column name="system_database_uid" /></createIndex>

        <createTable tableName="system_instance" remarks="instance of running application on server - each process would be having one row in table" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_instance_uid" type="text" remarks="main key of system instance - unique ID of process with host"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks="version of application"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="host_name" type="text" remarks="name of host that application is running"><constraints nullable="false"/></column>
            <column name="host_ip" type="text" remarks="IP of host that application is running"><constraints nullable="false"/></column>
            <column name="local_path" type="text" remarks="local path of Python process"><constraints nullable="false"/></column>
            <column name="mode_name" type="text" defaultValue="DEV" remarks="name of mode: DEV, TEST, UAT, PROD"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('event_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row: 0, 1, 2, 3; each update is increasing this number"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of removing this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}" remarks="JSON with custom attributes for this object"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_instance_system_instance_uid" tableName="system_instance" unique="true"><column name="system_instance_uid" /></createIndex>

        <createTable tableName="system_state" remarks="state of current application " >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_state_uid" type="text" remarks="UID of generated system state object"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_instance_uid" type="text" remarks="FK to system instance produced this state"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="mem_free" type="bigint" remarks="name of host on "><constraints nullable="false"/></column>
            <column name="mem_max" type="bigint"><constraints nullable="false"/></column>
            <column name="objects_count" type="bigint" defaultValue="0" remarks=""><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('event_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_state_system_state_uid" tableName="system_state" unique="true"><column name="system_state_uid" /></createIndex>

        <createTable tableName="system_exception" remarks="exception or error thrown in backend or frontend application" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_exception_uid" type="text" remarks="PK of exception thrown on system instance"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_instance_uid" type="text" remarks="FK to system instance"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="exception_class" type="text"><constraints nullable="false"/></column>
            <column name="exception_message" type="text"><constraints nullable="false"/></column>
            <column name="exception_stacktrace" type="text"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValue="replace(concat('event_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_exception_system_exception_uid" tableName="system_exception" unique="true"><column name="system_exception_uid" /></createIndex>

        <createTable tableName="system_object" remarks="system objects related to tables" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_object_uid" type="text" remarks="object UID"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks=""><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="object_name" type="text" remarks="name of object"><constraints nullable="false"/></column>
            <column name="object_type" type="text" remarks="type of object - system, dictionary, data"><constraints nullable="false"/></column>
            <column name="table_name" type="text" remarks="table name od this object"><constraints nullable="false"/></column>
            <column name="key_name" type="text"><constraints nullable="false"/></column>
            <column name="parent_system_object_uid" type="text" remarks="UID of parent object" />
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('system_attribute_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_object_system_object_uid" tableName="system_object" unique="true"><column name="system_object_uid" /></createIndex>
        <createIndex indexName="idx_system_object_object_name" tableName="system_object" unique="true"><column name="object_name" /></createIndex>

        <createTable tableName="system_object_type" remarks="types and subtypes of objects" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_object_type_uid" type="text" remarks="UID of system object type"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks=""><constraints nullable="false"/></column>
            <column name="system_object_uid" type="text" remarks=""><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="object_type_name" type="text" remarks="name of object type"><constraints nullable="false"/></column>
            <column name="object_type_description" type="text"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('system_attribute_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_attribute" remarks="attributes for objects in tables" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_attribute_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_object_uid" type="text" remarks="full object name table.column or table.constraint"><constraints nullable="false"/></column>
            <column name="system_version_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="column_name" type="text"><constraints nullable="false"/></column>
            <column name="attribute_name" type="text"><constraints nullable="false"/></column>
            <column name="attribute_type" type="text" remarks="type of an attribute: text, number, system"><constraints nullable="false"/></column>
            <column name="attribute_label" type="text"><constraints nullable="false"/></column>
            <column name="attribute_description" type="text"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('system_attribute_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_attribute_system_attribute_uid" tableName="system_attribute" unique="true"><column name="system_attribute_uid" /></createIndex>
        <createIndex indexName="idx_system_attribute_system_object_uid" tableName="system_attribute" unique="true"><column name="system_object_uid" /></createIndex>

        <createTable tableName="system_change" remarks="changes to tables - updates, inserts, deletes" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_change_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_instance_uid" type="text" remarks=""><constraints nullable="false"/></column>
            <column name="system_instance_uid" type="text" remarks="FK to system instance"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="change_type" type="text"><constraints nullable="false"/></column>
            <column name="change_name" type="text"><constraints nullable="false"/></column>
            <column name="change_json" type="text"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('auth_password_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_change_system_change_uid" tableName="system_change" unique="true"><column name="system_change_uid" /></createIndex>

        <createTable tableName="system_setting" remarks="global and user settings for system" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="system_setting_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_instance_uid" type="text" />
            <!-- attribute columns -->
            <column name="setting_name" type="text" remarks="name of setting"><constraints nullable="false"/></column>
            <column name="setting_value" type="text" remarks="value of setting"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('system_setting_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_setting_system_setting_uid" tableName="system_setting" unique="true"><column name="system_setting_uid" /></createIndex>

        <createTable tableName="event_channel" remarks="channel to deliver events" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="event_channel_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="channel_type" type="text" remarks="type of the channel"><constraints nullable="false"/></column>
            <column name="channel_name" type="text" remarks="name of channel"><constraints nullable="false"/></column>
            <column name="channel_definition" type="text"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('event_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_event_channel_event_channel_uid" tableName="event_channel" unique="true"><column name="event_channel_uid" /></createIndex>

        <createTable tableName="event_subscription" remarks="subscriptions for events" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="event_subscription_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="event_channel_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="subscription_name" type="text" remarks="name of this subscription"><constraints nullable="false"/></column>
            <column name="subscription_filter" type="text" remarks="filter of subscription"><constraints nullable="false"/></column>
            <column name="subscription_topic" type="text"><constraints nullable="false"/></column>
            <column name="subscription_template" type="text"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('event_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_event_subscription_event_subscription_uid" tableName="event_subscription" unique="true"><column name="event_subscription_uid" /></createIndex>
        <createIndex indexName="idx_event_subscription_subscription_name" tableName="event_subscription" unique="true"><column name="subscription_name" /></createIndex>

        <createTable tableName="event_instance" remarks="event in system that can be published to listeners" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="event_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="event_type" type="text"><constraints nullable="false"/></column>
            <column name="event_object" type="text"><constraints nullable="false"/></column>
            <column name="event_method" type="text"><constraints nullable="false"/></column>
            <column name="event_parameters" type="text"><constraints nullable="false"/></column>
            <column name="event_signature" type="text"><constraints nullable="false"/></column>
            <column name="published_count" type="bigint"><constraints nullable="false"/></column>
            <column name="event_date" type="timestamp"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('event_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_event_instance_event_instance_uid" tableName="event_instance" unique="true"><column name="event_instance_uid" /></createIndex>

        <createTable tableName="country" remarks="country of account or client" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="country_uid" type="text" remarks="unique ID of country - ISO2 code"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="continent_name" type="text"><constraints nullable="false"/></column>
            <column name="continent_code" type="text"><constraints nullable="false"/></column>
            <column name="country_name" type="text"><constraints nullable="false"/></column>
            <column name="country_iso3" type="text"><constraints nullable="false"/></column>
            <column name="country_code" type="text"><constraints nullable="false"/></column>
            <column name="phone_code" type="text"><constraints nullable="false"/></column>
            <column name="currency_code" type="text"><constraints nullable="false"/></column>
            <column name="capital_name" type="text"><constraints nullable="false"/></column>
            <column name="region_name" type="text"><constraints nullable="false"/></column>
            <column name="subregion_name" type="text"><constraints nullable="false"/></column>
            <column name="region_code" type="text"><constraints nullable="false"/></column>
            <column name="latitude" type="text"><constraints nullable="false"/></column>
            <column name="longitude" type="text"><constraints nullable="false"/></column>
            <column name="currency_name" type="text"><constraints nullable="false"/></column>
            <column name="population" type="text"><constraints nullable="false"/></column>
            <column name="languages" type="text"><constraints nullable="false"/></column>
            <column name="area" type="text"><constraints nullable="false"/></column>
            <column name="bar_code" type="text"><constraints nullable="false"/></column>
            <column name="top_level_domain" type="text"><constraints nullable="false"/></column>
            <column name="is_focused" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('country_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_country_country_uid" tableName="country" unique="true"><column name="country_uid" /></createIndex>
        <createIndex indexName="idx_country_country_name" tableName="country" unique="true"><column name="country_name" /></createIndex>
        <createIndex indexName="idx_country_country_iso3" tableName="country" unique="true"><column name="country_iso3" /></createIndex>

        <createTable tableName="currency" remarks="currency" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="currency_uid" type="text" remarks="unique ID of currency"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="currency_name" type="text" remarks="name of currency - EUR, USD, "><constraints nullable="false"/></column>
            <column name="is_focused" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('country_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_currency_currency_uid" tableName="currency" unique="true"><column name="currency_uid" /></createIndex>
        <createIndex indexName="idx_currency_currency_name" tableName="currency" unique="true"><column name="currency_name" /></createIndex>

        <createTable tableName="client_type" remarks="type of client" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="client_type_uid" type="text" remarks="type of client"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks=""><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="client_type_name" type="text" remarks="full friendly name of this client"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('client_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_client_type_client_type_uid" tableName="client_type" unique="true"><column name="client_type_uid" /></createIndex>

        <createTable tableName="client_instance" remarks="single client - company that is using time tracker app" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="client_instance_uid" type="text" remarks="Unique ID of client - code or name of client"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="country_uid" type="text" remarks="ISO2 country code - FK to country"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="client_name" type="text" remarks="full friendly name of this client"><constraints nullable="false"/></column>
            <column name="client_code" type="text" remarks="client code - 3, 4 or 4 letters uppercase"><constraints nullable="false"/></column>
            <column name="client_description" type="text" remarks="full description of that client" defaultValue=""><constraints nullable="false"/></column>
            <column name="start_date" type="timestamp" defaultValueDate="${nowdate}" remarks="start date of engagement"><constraints nullable="false"/></column>
            <column name="end_date" type="timestamp" />
            <column name="is_internal" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <column name="is_system" type="bigint" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <column name="is_test" type="bigint" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('client_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_client_instance_client_instance_uid" tableName="client_instance" unique="true"><column name="client_instance_uid" /></createIndex>
        <createIndex indexName="idx_client_instance_client_name" tableName="client_instance" unique="true"><column name="client_name" /></createIndex>
        <createIndex indexName="idx_client_instance_client_code" tableName="client_instance" unique="true"><column name="client_code" /></createIndex>


        <createTable tableName="account_type" remarks="type of the account" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="account_type_uid" type="text" remarks="Unique ID of title"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks="version of system introduced this row"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="account_type_name" type="text" remarks="Type of account: Person, Client, Contractor, Application"><constraints nullable="false"/></column>
            <column name="account_type_description" type="text" remarks="Description of this type"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('account_title_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_account_type_account_type_uid" tableName="account_type" unique="true"><column name="account_type_uid" /></createIndex>

        <createTable tableName="account_title" remarks="title of the account connected with person role" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="account_title_uid" type="text" remarks="Unique ID of title"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks="version of system introduced this title"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="title_name" type="text" remarks="Name of title like Data Engineer, Data Analyst, ..."><constraints nullable="false"/></column>
            <column name="title_description" type="text" remarks="Title description"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('account_title_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_account_title_account_title_uid" tableName="account_title" unique="true"><column name="account_title_uid" /></createIndex>
        <createIndex indexName="idx_account_title_title_name" tableName="account_title" unique="true"><column name="title_name" /></createIndex>

        <createTable tableName="account_group" remarks="group of the accounts" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="account_group_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks="version of system introduced this row"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="account_group_name" type="text"><constraints nullable="false"/></column>
            <column name="account_group_description" type="text" defaultValue=""><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('account_group_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_account_group_account_group_uid" tableName="account_group" unique="true"><column name="account_group_uid" /></createIndex>
        <createIndex indexName="idx_account_group_account_group_name" tableName="account_group" unique="true"><column name="account_group_name" /></createIndex>

        <createTable tableName="account_division" remarks="division of the account" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="account_division_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks="version of system introduced this row"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="division_name" type="text"><constraints nullable="false"/></column>
            <column name="division_description" type="text"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('account_division_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_account_division_account_division_uid" tableName="account_division" unique="true"><column name="account_division_uid" /></createIndex>
        <createIndex indexName="idx_account_division_division_name" tableName="account_division" unique="true"><column name="division_name" /></createIndex>

        <createTable tableName="account_instance" remarks="single instance of account - person or user or system user" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="account_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="client_instance_uid" type="text" defaultValue="Person" remarks="parent client for this account"><constraints nullable="false"/></column>
            <column name="account_type_uid" type="text" defaultValue="Person"><constraints nullable="false"/></column>
            <column name="account_title_uid" type="text" defaultValue="DEF"><constraints nullable="false"/></column>
            <column name="account_division_uid" type="text" defaultValue="Default"><constraints nullable="false"/></column>
            <column name="account_group_uid" type="text"><constraints nullable="false"/></column>
            <column name="auth_identity_uid" type="text" defaultValue="Internal"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="account_email" type="text" remarks="email connected to that account"><constraints nullable="false"/></column>
            <column name="account_name" type="text"><constraints nullable="false"/></column>
            <column name="display_name" type="text"><constraints nullable="false"/></column>
            <column name="is_system" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('account_division_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_account_instance_account_instance_uid" tableName="account_instance" unique="true"><column name="account_instance_uid" /></createIndex>
        <createIndex indexName="idx_account_instance_account_email" tableName="account_instance" unique="true"><column name="account_email" /></createIndex>
        <createIndex indexName="idx_account_instance_account_name" tableName="account_instance" unique="false"><column name="account_name" /></createIndex>
        <createIndex indexName="idx_account_instance_display_name" tableName="account_instance" unique="false"><column name="display_name" /></createIndex>

        <createTable tableName="auth_token" remarks="single instance of token created for account" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="auth_token_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_instance_uid" type="text" remarks="parent account of this token"><constraints nullable="false"/></column>
            <column name="system_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="token_seq" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <column name="token_hash" type="text"><constraints nullable="false"/></column>
            <column name="token_salt" type="text"><constraints nullable="false"/></column>
            <column name="valid_till_date" type="timestamp" remarks="date and time of validation" />
            <column name="last_use_date" type="timestamp" remarks="date and time of insertion given row to database" />
            <column name="is_last" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('auth_token_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_auth_token_auth_token_uid" tableName="auth_token" unique="true"><column name="auth_token_uid" /></createIndex>
        <createIndex indexName="idx_auth_token_account_instance_uid" tableName="auth_token" unique="false"><column name="account_instance_uid" /></createIndex>
        <createIndex indexName="idx_auth_token_token_hash" tableName="auth_token" unique="false"><column name="token_hash" /></createIndex>

        <createTable tableName="auth_role" remarks="list of roles" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="auth_role_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="parent_auth_role_uid" type="text" />
            <!-- attribute columns -->
            <column name="role_name" type="text"><constraints nullable="false"/></column>
            <column name="role_description" type="text" defaultValue=""><constraints nullable="false"/></column>
            <column name="access_uris" type="text" defaultValue=""><constraints nullable="false"/></column>
            <column name="is_project" type="bigint" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <column name="is_client" type="bigint" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <column name="is_custom" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('auth_role_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_auth_role_auth_role_uid" tableName="auth_role" unique="true"><column name="auth_role_uid" /></createIndex>
        <createIndex indexName="idx_auth_role_role_name" tableName="auth_role" unique="true"><column name="role_name" /></createIndex>

        <createTable tableName="auth_permission" remarks="permission assigned to account and role with optional project or client" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="auth_permission_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_instance_uid" type="text" remarks="FK to account instance"><constraints nullable="false"/></column>
            <column name="system_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="auth_role_uid" type="text"><constraints nullable="false"/></column>
            <column name="client_instance_uid" type="text" />
            <column name="project_instance_uid" type="text" />
            <!-- attribute columns -->
            <column name="valid_from_date" type="timestamp" remarks="permission from date"><constraints nullable="false"/></column>
            <column name="valid_till_date" type="timestamp" remarks="permission till date"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('auth_permission_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_auth_permission_auth_permission_uid" tableName="auth_permission" unique="true"><column name="auth_permission_uid" /></createIndex>
        <createIndex indexName="idx_auth_permission_account_instance_uid" tableName="auth_permission" unique="false"><column name="account_instance_uid" /></createIndex>
        <createIndex indexName="idx_auth_permission_auth_role_uid" tableName="auth_permission" unique="false"><column name="auth_role_uid" /></createIndex>

        <createTable tableName="auth_password" remarks="password set by user - this is full history of passwords" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="auth_password_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_instance_uid" type="text" remarks="parent account of this password"><constraints nullable="false"/></column>
            <column name="system_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="password_hash" type="text" remarks="hash of password including salt"><constraints nullable="false"/></column>
            <column name="password_salt" type="text" remarks="salt to add to password before hashing"><constraints nullable="false"/></column>
            <column name="date_from" type="timestamp" remarks="date and time od start password"><constraints nullable="false"/></column>
            <column name="date_to" type="timestamp" remarks="date and time of validation date of this password"><constraints nullable="false"/></column>
            <column name="usage_count" type="bigint" defaultValueNumeric="0" remarks="numer of password usages"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('auth_password_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_auth_password_auth_password_uid" tableName="auth_password" unique="true"><column name="auth_password_uid" /></createIndex>
        <createIndex indexName="idx_auth_password_account_instance_uid" tableName="auth_password" unique="false"><column name="account_instance_uid" /></createIndex>

        <createTable tableName="auth_request" remarks="Request of reset or set new password for user" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="auth_request_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="by_account_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="account_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="system_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="reset_guid" type="text" remarks="global unique ID of this reset to be referred from the link"><constraints nullable="false"/></column>
            <column name="valid_till_date" type="timestamp" remarks="final date of validation of this request"><constraints nullable="false"/></column>
            <column name="lock_guid" type="text" remarks="lock global unique ID" />
            <column name="lock_by" type="text" remarks="process that has been locked this request" />
            <column name="lock_date" type="timestamp" remarks="date and time of last lock" />
            <column name="is_checked" type="bigint" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <column name="is_used" type="bigint" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <column name="check_date" type="timestamp" remarks="date and time of check" />
            <column name="use_date" type="timestamp" remarks="date and time of use" />
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('auth_password_request_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_auth_request_auth_request_uid" tableName="auth_request" unique="true"><column name="auth_request_uid" /></createIndex>
        <createIndex indexName="idx_auth_request_by_account_instance_uid" tableName="auth_request" unique="false"><column name="by_account_instance_uid" /></createIndex>

        <createTable tableName="auth_identity" remarks="possible identity types with configuration" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="auth_identity_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="client_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="identity_name" type="text" remarks="name of identifying method, class to authenticate user or client"><constraints nullable="false"/></column>
            <column name="identity_type" type="text" remarks="type of identity to be translated into class name"><constraints nullable="false"/></column>
            <column name="identity_parameters" type="text" remarks="JSON with identity parameters - map of parameters string to object" defaultValue="{}"><constraints nullable="false"/></column>
            <column name="last_status_name" type="text" defaultValue="Unknown"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('auth_identity_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_auth_identity_auth_identity_uid" tableName="auth_identity" unique="true"><column name="auth_identity_uid" /></createIndex>
        <createIndex indexName="idx_auth_identity_identity_name" tableName="auth_identity" unique="true"><column name="identity_name" /></createIndex>

        <createTable tableName="notification_instance" remarks="notification sent to password requests and info messages to accounts" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="notification_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="client_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="account_instance_uid" type="text" remarks="account to send this notification to"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="notification_type" type="text" remarks="type of notification: email, dashboard, sms"><constraints nullable="false"/></column>
            <column name="notification_topic" type="text" remarks="topic of notification like email topic"><constraints nullable="false"/></column>
            <column name="notification_format" type="text" remarks="format of notification: txt, html, json"><constraints nullable="false"/></column>
            <column name="notification_content" type="text" remarks="full content of this notification in HTML or "><constraints nullable="false"/></column>
            <column name="sending_status" type="text" defaultValue="Created"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('notification_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_notification_instance_notification_instance_uid" tableName="notification_instance" unique="true"><column name="notification_instance_uid" /></createIndex>
        <createIndex indexName="idx_notification_instance_account_instance_uid" tableName="notification_instance" unique="false"><column name="account_instance_uid" /></createIndex>

        <createTable tableName="invoice_instance" remarks="invoices" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="invoice_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="client_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="account_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="period_code" type="text"><constraints nullable="false"/></column>
            <column name="invoice_number" type="text"><constraints nullable="false"/></column>
            <column name="invoice_details" type="text"><constraints nullable="false"/></column>
            <column name="invoice_status" type="text" defaultValue="Created"><constraints nullable="false"/></column>
            <column name="invoice_currency" type="text" defaultValue="EUR"><constraints nullable="false"/></column>
            <column name="invoice_amount" type="float" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('invoice_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_invoice_invoice_invoice_instance_uid" tableName="invoice_instance" unique="true"><column name="invoice_instance_uid" /></createIndex>
        <createIndex indexName="idx_invoice_instance_account_instance_uid" tableName="invoice_instance" unique="false"><column name="account_instance_uid" /></createIndex>

        <createTable tableName="project_group" remarks="group of projects" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="project_group_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="project_group_name" type="text"><constraints nullable="false"/></column>
            <column name="project_group_description" type="text" defaultValue=""><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('project_group_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_project_group_project_group_uid" tableName="project_group" unique="true"><column name="project_group_uid" /></createIndex>

        <createTable tableName="project_instance" remarks="project to bill time against" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="project_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="client_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="manager_account_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="project_group_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="project_name" type="text"><constraints nullable="false"/></column>
            <column name="project_code" type="text"><constraints nullable="false"/></column>
            <column name="is_billable" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <column name="start_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time" />
            <column name="end_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time" />
            <column name="current_billed" type="float" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <column name="budget" type="float" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('project_instance_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_project_instance_project_instance_uid" tableName="project_instance" unique="true"><column name="project_instance_uid" /></createIndex>
        <createIndex indexName="idx_project_instance_client_instance_uid" tableName="project_instance" unique="false"><column name="client_instance_uid" /></createIndex>
        <createIndex indexName="idx_project_instance_project_code" tableName="project_instance" unique="true"><column name="project_code" /></createIndex>
        <createIndex indexName="idx_project_instance_manager_account_instance_uid" tableName="project_instance" unique="false"><column name="manager_account_instance_uid" /></createIndex>

        <createTable tableName="project_budget" remarks="budget for projects" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="project_budget_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="project_instance_uid" type="text"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="budget_name" type="text" remarks="friendly name of budget"><constraints nullable="false"/></column>
            <column name="budget_currency" type="text" remarks="currency of budget"><constraints nullable="false"/></column>
            <column name="budget_value" type="float" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <column name="is_current" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('project_budget_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_project_budget_project_budget_uid" tableName="project_budget" unique="true"><column name="project_budget_uid" /></createIndex>
        <createIndex indexName="idx_project_budget_budget_name" tableName="project_budget" unique="false"><column name="budget_name" /></createIndex>

        <createTable tableName="project_milestone" remarks="milestone of project like: Concept, Development, Architecture, Analysis, Support" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="project_milestone_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="project_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="project_budget_uid" type="text" />
            <!-- attribute columns -->
            <column name="milestone_name" type="text" remarks="friendly name of budget"><constraints nullable="false"/></column>
            <column name="start_date" type="timestamp" defaultValueDate="${nowdate}" remarks="start date and time of milestone" ><constraints nullable="false"/></column>
            <column name="end_date" type="timestamp" defaultValueDate="${nowdate}" remarks="end date and time of milestone"><constraints nullable="false"/></column>
            <column name="status_name" type="text" remarks="status of that milestone" defaultValue="Created"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('project_budget_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_project_milestone_project_milestone_uid" tableName="project_milestone" unique="true"><column name="project_milestone_uid" /></createIndex>
        <createIndex indexName="idx_project_milestone_project_instance_uid" tableName="project_milestone" unique="false"><column name="project_instance_uid" /></createIndex>

        <createTable tableName="entry_save" remarks="time entered by account against project" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="entry_save_uid" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_instance_uid" type="text" remarks="Email of account - FK to account"><constraints nullable="false"/></column>
            <column name="project_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="project_milestone_uid" type="text"><constraints nullable="false"/></column>
            <column name="invoice_instance_uid" type="text" />
            <!-- attribute columns -->
            <column name="entry_period" type="text" remarks="Period of that entry - week or day or month"><constraints nullable="false"/></column>
            <column name="entry_note" type="text"><constraints nullable="false"/></column>
            <column name="lock_uid" type="text" />
            <column name="start_date" type="timestamp" defaultValueDate="${nowdate}" remarks="start date/time of that entry" />
            <column name="end_date" type="timestamp" defaultValueDate="${nowdate}" remarks="end date/time of that entry" />
            <column name="entry_minutes" type="bigint" defaultValueNumeric="1" remarks="number of minutes assigned to that entry"><constraints nullable="false"/></column>
            <column name="is_approved" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('time_entry_save_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_entry_save_entry_save_uid" tableName="entry_save" unique="true"><column name="entry_save_uid" /></createIndex>
        <createIndex indexName="idx_entry_save_account_instance_uid" tableName="entry_save" unique="true"><column name="account_instance_uid" /></createIndex>
        <createIndex indexName="idx_entry_save_project_instance_uid" tableName="entry_save" unique="true"><column name="project_instance_uid" /></createIndex>

        <createTable tableName="entry_final" remarks="final time entered by account against project" >
            <column name="id" type="bigint" autoIncrement="true">
                <constraints primaryKey="true" nullable="false"/>
            </column>
            <column name="entry_final_uid" type="text" remarks="UID of entry - final: account-project-date-row"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_instance_uid" type="text" remarks="Email of account - FK to account"><constraints nullable="false"/></column>
            <column name="project_instance_uid" type="text"><constraints nullable="false"/></column>
            <column name="project_milestone_uid" type="text"><constraints nullable="false"/></column>
            <column name="invoice_instance_uid" type="text" />
            <!-- attribute columns -->
            <column name="entry_period" type="text" remarks="Period of that entry - month 202401 or week 2024003 or day 20240109"><constraints nullable="false"/></column>
            <column name="entry_note" type="text"><constraints nullable="false"/></column>
            <column name="lock_uid" type="text" />
            <column name="start_date" type="timestamp" defaultValueDate="${nowdate}" remarks="start date/time of that entry" />
            <column name="end_date" type="timestamp" defaultValueDate="${nowdate}" remarks="end date/time of that entry" />
            <column name="entry_minutes" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <column name="is_approved" type="bigint" defaultValueNumeric="1"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('time_entry_final_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_entry_final_entry_uid" tableName="entry_final" unique="true"><column name="entry_final_uid" /></createIndex>
        <createIndex indexName="idx_entry_final_keys" tableName="entry_final" unique="false"><column name="account_instance_uid" /><column name="entry_period" /></createIndex>
        <createIndex indexName="idx_entry_final_project_instance_uid" tableName="entry_final" unique="false"><column name="project_instance_uid" /></createIndex>

    </changeSet>

</databaseChangeLog>
