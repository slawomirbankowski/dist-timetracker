<databaseChangeLog
        xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
        xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
        xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.1.xsd"
        logicalFilePath="conf/changelog0002_system.xml">

    <changeSet id="0002 - system tables" author="slawomir.bankowski">

        <createTable tableName="system_version" remarks="semantic version of application like 1.2.3, each version is introducing new features to application" >
            <column name="system_version_uid" type="text" remarks="main key of semantic version of application like 1.0.0 or 1.2.3"><constraints primaryKey="true" nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="system_version_name" type="text" remarks="name of this version"><constraints nullable="false"/></column>
            <column name="version_description" type="text" remarks="description of this version of application" defaultValue=""><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" defaultValue="1.0.0" remarks="FK to system instance produced this state"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('sver_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row: 0, 1, 2, 3; each update is increasing this number"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active, -1 - rows is on hold, -2 - row is locked"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of removing this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}" remarks="JSON with custom attributes for this object"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_database" remarks="database with data for main common areas or database for clients, each database is having full schema of application and is controlled by Liquibase, application is connected to main database with common objects but also can use client-specific database for client data" >
            <column name="system_database_uid" type="text" remarks="type=pk;description=client database UID"><constraints primaryKey="true" nullable="false"/></column>
            <!-- attribute columns -->
            <column name="system_database_name" type="text" remarks="URL"><constraints nullable="false"/></column>
            <column name="db_url" type="text" remarks="URL"><constraints nullable="false"/></column>
            <column name="db_host" type="text" remarks="host of tenant database"><constraints nullable="false"/></column>
            <column name="db_name" type="text" remarks="name of tenant database" defaultValue="timetracker"><constraints nullable="false"/></column>
            <column name="db_user" type="text" remarks="user of tenant database" defaultValue="postgres"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" defaultValue="1.0.0" remarks="type=fk;description=FK to system instance produced this state"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('sdba_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row: 0, 1, 2, 3; each update is increasing this number"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of removing this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}" remarks="JSON with custom attributes for this object"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_instance" remarks="instance of running application on server - each process would be having one row in table" >
            <column name="system_instance_uid" type="text" remarks="type=pk;description=main key of system instance - unique ID of process with host"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_instance_name" type="text" remarks="friendly name of this system instance"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_version_uid" type="text" remarks="type=fk;description=version of application"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="host_name" type="text" remarks="name of host that application is running"><constraints nullable="false"/></column>
            <column name="host_ip" type="text" remarks="IP of host that application is running"><constraints nullable="false"/></column>
            <column name="local_path" type="text" defaultValue="/" remarks="local path of Python process"><constraints nullable="false"/></column>
            <column name="mode_name" type="text" defaultValue="DEV" remarks="name of mode: DEV, TEST, UAT, PROD"><constraints nullable="false"/></column>
            <column name="ticks_count" type="bigint" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('sins_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row: 0, 1, 2, 3; each update is increasing this number"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of removing this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}" remarks="JSON with custom attributes for this object"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_thread" remarks="thread managed by instance of application" >
            <column name="system_thread_uid" type="text" remarks="type=pk;description=UID"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_thread_name" type="text" remarks="friendly name of this thread"><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="thread_name" type="text" remarks="name of this thread"><constraints nullable="false"/></column>
            <column name="parent_object" type="text"><constraints nullable="false"/></column>
            <column name="ticks_count" type="bigint" defaultValueNumeric="0" remarks=""><constraints nullable="false"/></column>
            <column name="sleep_time" type="bigint" defaultValueNumeric="60" remarks=""><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="type=fk;description=FK to system instance produced this row" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('sthr_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_state" remarks="state of current application/system instance, each state contains diagnostic information about running process in memory" >
            <column name="system_state_uid" type="text" remarks="type=pk;description=UID of generated system state object"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_state_name" type="text" remarks="friendly name of this state"><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="mem_free" type="bigint" remarks=""><constraints nullable="false"/></column>
            <column name="mem_max" type="bigint"><constraints nullable="false"/></column>
            <column name="objects_count" type="bigint" defaultValue="0" remarks=""><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="type=fk;description=FK to system instance produced this state" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('ssta_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_lock" remarks="lock" >
            <column name="system_lock_uid" type="text" remarks="type=pk;description=UID of generated system state object"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_lock_name" type="text" remarks="friendly name of this state"><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="lock_account_uid" type="text" remarks="account that created this lock"><constraints nullable="false"/></column>
            <column name="lock_comment" type="text" remarks="comment on this lock"><constraints nullable="false"/></column>
             <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="type=fk;description=FK to system instance produced this state" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('ssta_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_exception" remarks="type=system,append;cardinality=10000;description=exception or error thrown in backend or frontend application, it is for diagnostic, debugging and checking reasons" >
            <column name="system_exception_uid" type="text" remarks="type=pk;description=PK of exception thrown on system instance"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_exception_name" type="text" remarks="friendly name of this exception"><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="exception_class" type="text" remarks="type=search,short;description="><constraints nullable="false"/></column>
            <column name="exception_message" type="text" remarks="type=long;description="><constraints nullable="false"/></column>
            <column name="exception_stacktrace" type="text" remarks="type=long;description="><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValue="replace(concat('sexe_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_table" remarks="tables managed by application" >
            <column name="system_table_uid" type="text" remarks="table UID"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_table_name" type="text" remarks="name of table"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="parent_system_table_uid" type="text" remarks="UID of parent object" />
            <!-- attribute columns -->
            <column name="table_label" type="text" remarks="label of table"><constraints nullable="false"/></column>
            <column name="uid_name" type="text" remarks="name of UID key of this table"><constraints nullable="false"/></column>
            <column name="table_group" type="text" remarks="name of UID key of this table"><constraints nullable="false"/></column>
            <column name="table_code" type="text" remarks="code of this table"><constraints nullable="false"/></column>
            <column name="table_type" type="text" defaultValue="update" remarks="type of table: dictionary, m2m, full, system"><constraints nullable="false"/></column>
            <column name="table_category" type="text" defaultValue="update" remarks="category of access to table: private, protected, internal, account, tenant, public"><constraints nullable="false"/></column>
            <column name="cardinality" type="bigint" defaultValueNumeric="1000" remarks="type=fk;description=comment of this table"><constraints nullable="false"/></column>
            <column name="is_object" type="bigint" defaultValueNumeric="1" remarks="type=fk;description=comment of this table"><constraints nullable="false"/></column>
            <column name="is_rich" type="bigint" defaultValueNumeric="1" remarks="type=fk;description=comment of this table"><constraints nullable="false"/></column>
            <column name="is_tenant" type="bigint" defaultValueNumeric="1" remarks="type=fk;description=comment of this table"><constraints nullable="false"/></column>
            <column name="is_local" type="bigint" defaultValueNumeric="1" remarks="type=fk;description=comment of this table"><constraints nullable="false"/></column>
            <column name="table_comment" type="text" remarks="type=fk;description=comment of this table"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" remarks="FK to system_lock table - a logical lock on this row" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group table - owner group for this table"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('stab_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_attribute" remarks="attributes for objects in tables" >
            <column name="system_attribute_uid" type="text" remarks=""><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_attribute_name" type="text" remarks=""><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="system_object_uid" type="text" remarks="full object name table.column or table.constraint"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="column_name" type="text" remarks="type=search;description="><constraints nullable="false"/></column>
            <column name="attribute_type" type="text" remarks="type of an attribute: text, number, system"><constraints nullable="false"/></column>
            <column name="attribute_category" type="text" remarks="type of an attribute: text, number, system"><constraints nullable="false"/></column>
            <column name="attribute_label" type="text" remarks="type=fk;description="><constraints nullable="false"/></column>
            <column name="attribute_description" type="text" remarks="type=fk;description="><constraints nullable="false"/></column>
            <column name="ordinal_position" type="bigint" remarks="type=fk;description="><constraints nullable="false"/></column>
            <column name="is_hidden" type="bigint" defaultValueNumeric="0" remarks="type=fk;description="><constraints nullable="false"/></column>
            <column name="is_meta" type="bigint" defaultValueNumeric="0" remarks="type=fk;description="><constraints nullable="false"/></column>
            <column name="is_secret" type="bigint" defaultValueNumeric="0" remarks="type=fk;description="><constraints nullable="false"/></column>
            <column name="is_full_search" type="bigint" defaultValueNumeric="0" remarks="type=fk;description="><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('satt_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>
        <createIndex indexName="idx_system_attribute_system_object_uid" tableName="system_attribute" unique="true"><column name="system_object_uid" /></createIndex>

        <createTable tableName="system_query" remarks="SQL queries executed on database" >
            <column name="system_query_uid" type="text" remarks=""><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_query_name" type="text" remarks=""><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="time_start" type="bigint"><constraints nullable="false"/></column>
            <column name="total_query_time" type="bigint"><constraints nullable="false"/></column>
            <column name="query_seq" type="bigint"><constraints nullable="false"/></column>
            <column name="execution_counter" type="bigint"><constraints nullable="false"/></column>
            <column name="connection_counter" type="bigint"><constraints nullable="false"/></column>
            <column name="release_counter" type="bigint"><constraints nullable="false"/></column>
            <column name="current_active" type="bigint"><constraints nullable="false"/></column>
            <column name="current_idle" type="bigint"><constraints nullable="false"/></column>
            <column name="table_name" type="text"><constraints nullable="false"/></column>
            <column name="rows_count" type="bigint"><constraints nullable="false"/></column>
            <column name="sql" type="text"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('satt_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_setting" remarks="global settings for system" >
            <column name="system_setting_uid" type="text" remarks="type=pk;description="><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_setting_name" type="text" remarks="type=name;description="><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="setting_value" type="text" remarks="type=;description=value of setting"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('sset_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_setting_account" remarks="user settings for system" >
            <column name="system_setting_account_uid" type="text"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_setting_account_name" type="text"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_uid" type="text" remarks="UID of account"><constraints nullable="false"/></column>
            <!-- attribute columns -->
            <column name="setting_value" type="text" remarks="value of setting"><constraints nullable="false"/></column>
            <column name="is_public" type="bigint" defaultValueNumeric="0"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('ssac_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_request" remarks="HTTP request to application" >
            <column name="system_request_uid" type="text" remarks="UID of request"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_request_name" type="text" remarks="friendly name of request"><constraints nullable="false"/></column>
            <!-- FKs -->
            <column name="account_uid" type="text" remarks="parent account of this token" />
            <!-- attribute columns -->
            <column name="request_method" type="text" remarks=""><constraints nullable="false"/></column>
            <column name="request_url" type="text" remarks=""><constraints nullable="false"/></column>
            <column name="request_body_size" type="bigint" remarks=""><constraints nullable="false"/></column>
            <column name="request_host" type="text" remarks=""><constraints nullable="false"/></column>
            <column name="request_time" type="bigint" remarks=""><constraints nullable="false"/></column>
            <column name="response_code" type="bigint" remarks="HTTP code of this request: 200, 201, 400, 403, 404, 501, ..."><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('sreq_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_module" remarks="module of system that could be within license" >
            <column name="system_module_uid" type="text" remarks="Unique ID of license"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_module_name" type="text" remarks="full friendly name of this license"><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="system_module_description" type="text" remarks="ISO2 country code - FK to country"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('smod_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

        <createTable tableName="system_license" remarks="license of given module" >
            <column name="system_license_uid" type="text" remarks="Unique ID of license"><constraints primaryKey="true" nullable="false"/></column>
            <column name="system_license_name" type="text" remarks="full friendly name of this license"><constraints nullable="false"/></column>
            <!-- FKs -->
            <!-- attribute columns -->
            <column name="license_description" type="text" remarks="ISO2 country code - FK to country"><constraints nullable="false"/></column>
            <!-- metadata columns -->
            <column name="row_instance" type="text" remarks="FK to system instance" defaultValue="1.0.0"><constraints nullable="false"/></column>
            <column name="row_lock" type="text" />
            <column name="row_owner" type="text" defaultValue="System" remarks="FK to account_group - owner of this row"><constraints nullable="false"/></column>
            <column name="row_seq" type="bigint" autoIncrement="true"><constraints nullable="false"/></column>
            <column name="row_guid" type="text" remarks="global generated unique ID" defaultValueComputed="replace(concat('slic_v01_', substring(cast(now() as text), 1, 10), '_', substring(cast(uuid_generate_v4() as text), 1, 13)), '-', '_')"><constraints nullable="false"/></column>
            <column name="row_version" type="bigint" defaultValueNumeric="0" remarks="version of the row"><constraints nullable="false"/></column>
            <column name="is_active" type="bigint" defaultValueNumeric="1" remarks="0 - row has been logically deleted, 1 - row is still active"><constraints nullable="false"/></column>
            <column name="created_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of insertion given row to database"><constraints nullable="false"/></column>
            <column name="created_by" type="text" defaultValue="system" remarks="account UID of person that created this row"><constraints nullable="false"/></column>
            <column name="last_updated_date" type="timestamp" defaultValueDate="${nowdate}" remarks="date and time of last change of this row"><constraints nullable="false"/></column>
            <column name="last_updated_by" type="text" defaultValue="system" remarks="account UID of person that updated this row"><constraints nullable="false"/></column>
            <column name="removed_date" type="timestamp" remarks="date and time of change this row" />
            <column name="removed_by" type="text" remarks="account UID of person that removed this row" />
            <column name="custom_attributes" type="text" defaultValue="{}"><constraints nullable="false"/></column>
        </createTable>

    </changeSet>

</databaseChangeLog>
